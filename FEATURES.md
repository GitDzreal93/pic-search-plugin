# 功能特性详解

## 🏠 智能网站管理功能（v1.1.0新增）

### 概述
全新的智能网站管理功能提供3种简单明确的启用模式，让用户可以轻松控制插件在哪些网站上工作，无需复杂的配置。

### 三种启用模式

#### 1. 🚫 不启用
- **描述**：在所有网站都禁用插件
- **适用场景**：
  - 临时停用插件
  - 专注工作时避免干扰
  - 系统维护或调试
- **特点**：一键禁用，简单直接

#### 2. 📍 仅在当前网站启用
- **描述**：插件只在当前访问的网站工作
- **适用场景**：
  - 只在特定学习网站使用
  - 测试插件功能
  - 精确控制使用范围
- **示例**：如果当前在 `blog.example.com`，插件只在这个确切的网址工作

#### 3. 🏠 在主域名启用
- **描述**：插件在主域名及其所有子域名工作
- **适用场景**：
  - 在整个网站系统使用
  - 包含多个子域名的大型网站
  - 统一的学习或工作平台
- **示例**：选择 `example.com`，插件在 `example.com`、`blog.example.com`、`shop.example.com` 等所有子域名工作



### 智能识别功能

#### 自动域名解析
- 自动识别当前网站的完整域名
- 智能提取主域名（去除子域名前缀）
- 自动识别顶级域名（.com、.org、.edu等）
- 实时更新选项描述

#### 直观的选项显示
- 动态显示当前网站信息
- 实时更新选项描述文字
- 清晰的图标标识
- 简洁的操作界面

### 实际使用场景

#### 场景1：学生用户
**需求**：只在维基百科学习时使用插件
**操作**：
1. 访问 `en.wikipedia.org`
2. 选择"仅在当前网站启用"
3. 插件只在维基百科工作

#### 场景2：研究人员
**需求**：在学术机构的所有子网站使用插件
**操作**：
1. 访问 `library.university.edu`
2. 选择"在主域名启用"
3. 插件在 `university.edu` 及其所有子域名工作

#### 场景3：临时禁用
**需求**：专注工作时暂时关闭插件
**操作**：
1. 选择"不启用"
2. 插件在所有网站都不工作
3. 需要时可随时重新启用

### 技术实现

#### 域名检测
- 使用`window.location.hostname`获取当前域名
- 自动处理子域名和端口号
- 支持本地文件和特殊协议

#### 实时同步
- 设置更改立即同步到所有标签页
- 使用Chrome消息传递API
- 无需刷新页面即可生效

#### 数据存储
- 使用Chrome Storage Sync API
- 设置自动同步到用户账户
- 支持多设备同步

### 用户界面设计

#### 直观的状态显示
- 使用颜色编码（绿色/红色）
- 清晰的文字说明
- 实时状态更新

#### 简洁的操作流程
- 一键切换当前网站
- 简单的添加/删除操作
- 智能的输入验证

#### 响应式设计
- 适配不同屏幕尺寸
- 支持键盘导航
- 无障碍访问优化

### 性能优化

#### 高效的域名匹配
- 使用数组查找算法
- 缓存当前域名
- 最小化计算开销

#### 智能的事件处理
- 只在需要时绑定/解绑事件
- 避免内存泄漏
- 优化页面性能

### 未来扩展

#### 计划中的功能
- 导入/导出网站列表
- 网站分组管理
- 时间段控制
- 使用统计分析

#### 用户反馈
- 支持用户建议
- 持续改进体验
- 定期功能更新

---

这个网站管理功能让插件更加智能和个性化，满足不同用户的使用需求。
